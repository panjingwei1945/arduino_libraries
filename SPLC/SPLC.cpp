#include "SPLC.h"
#include <avr/pgmspace.h>

const PROGMEM float _CALIB[] = {
// 79.137553,78.995916,79.976979,81.970114,83.516397,82.028054,81.331625,79.628082,81.066665,82.949156,80.288579,77.70098,82.665919,83.166013,86.026921,87.590511,88.705726,84.669508,87.595683,85.383578,86.953673,86.885741,87.082773,84.350488,83.751228,87.865532,89.317049,88.604705,85.766655,90.060984,90.61256,88.695459,87.879636,87.35588,84.395987,78.243624,87.49584,87.067587,88.135552,88.886787,91.251427,89.509896,88.214821,85.609515,86.046671,82.583544,82.974657,81.082203,81.03829,83.063172,84.769205,82.341512,84.106657,84.465524,83.859517,83.407355,81.638952,80.739528,84.102682,83.909226,80.42225,80.310076,83.139744,83.94747,83.710039,84.932755,86.484959,85.604398,83.645561,83.208534,80.970559,81.65754,83.112187,84.57918,81.846623,82.494029,81.213291,85.100321,85.287617,84.603968,80.87842,77.366324,77.821472,76.729905,75.571458,74.746027,79.818815,80.536257,82.282767,79.992754,79.657782,82.680176,80.505638,78.717873,76.309868,73.257019,70.960715,79.452976,80.107856,73.403901,73.656988,75.488607,82.633614,80.63202,69.937303,80.830037,77.010382,78.063019,80.794816,83.459071,83.882203,84.357142,85.427969,83.087271,84.321557,83.72074,83.108225,82.931664,76.473728,81.77925,80.847539,84.7636,81.237264,87.328894,87.212012,85.550858,88.35024,88.908234,86.658209,85.739643,86.368868,86.752958,86.690848,87.544613,87.408006,89.832341,88.44881,89.490237,89.444427,87.147857,87.067098,85.061598,86.07899,86.303404,85.035365,85.950757,85.785183,85.839875,87.296811,87.693872,86.997733,86.451929,85.965185,85.959742,81.769996,82.418191,85.548777,83.763842,85.839317,85.969831,85.014619,86.260495,84.644005,83.294699,84.751643,83.797881,82.939055,81.638358,82.904195,81.72273,80.554573,82.043273,84.649727,85.60114,84.893826,84.361845,81.132712,83.104478,79.267713,78.969524,82.124584,86.330932,85.650675,86.906185,88.309496,88.088252,89.149684,88.127945,86.005435,86.237972,85.172125,84.454022,86.844737,87.047406,89.356994,89.017817,89.031889,87.72231,87.458851,87.257354,85.505209,87.645184,85.883737,84.420322,83.183399,87.701482,90.386836,90.019652,87.836839,89.496457,89.193746,87.193127,84.462356,86.052169,85.572896,86.644283,85.919472,87.626663,86.264856,87.800618,86.059232,86.134281,85.71077,83.762588,84.989175,81.832276,82.22815,80.652206,82.233939,84.015624,85.790374,85.013685,86.494209,84.930246,84.281321,79.401748,80.986429,80.403791,78.878666,78.535691,81.199328,81.581425,82.857573,80.9686,83.700878,83.963097,81.644713,81.320434,77.005077,69.598302,65.571645,80.901405,82.005669,82.363835,80.641191,80.987353,82.756618,81.403956,81.796936,80.492179,80.337588,82.532641,83.397632,86.191357,84.998601,87.83448,89.540795,89.059532,87.907747,88.322939,88.724526,86.879713,83.804993,85.29806,86.395375,85.730834,87.508216,86.063819,87.942294,87.625313,88.535981,87.380983,84.155704,85.785727,81.849387,82.960181,83.163512,84.232443,85.737558,85.216063,86.300474,86.329593,84.091732,83.966681,83.427549,83.179872,81.07306,79.527087,80.613334,81.545988,83.221771,83.795727,83.113922,83.079061,80.534989,80.459731,78.35549,77.344813,75.806802,75.620166,79.456171,74.391588,75.438711,73.457613,78.477616,80.737734,79.086616,76.030563,78.088271,73.239505,78.969392,74.201111,75.304714,76.677951,76.841149,78.777129,74.467024,73.520563,77.417775,79.460351,76.233487,73.788285,63.208947,62.132079,66.31267,72.976319,71.021628,75.905852,76.770472,70.534193,72.111593,72.917709,73.260684,53.868074,71.505758,73.283173,76.886709,76.837759,74.356498,73.127938,78.859299,77.955423,74.307504,77.603068,76.430695,73.298372,71.314165,76.621044,71.119606,74.578516,75.216409,74.33341,70.908313,71.796693,73.193188,72.709742,72.323107,71.860115,66.711625,72.349668

// This calibration data is measured with Mic Position3, and median filtered with window of 10. 
// The sound pressure level produced would be only approximate to the specified.
62.036,61.37,62.617,63.094,64.092,64.507,64.843,65.479,66.037,66.391,66.605,66.652,66.464,66.265,65.534,63.621,62.565,62.904,63.03,61.778,59.757,59.145,59.722,59.924,58.847,57.127,57.858,58.839,59.253,59.268,59.022,58.734,58.374,57.614,57.47,58.3,60.286,62.318,63.434,63.858,64.408,64.567,64.684,64.948,65.292,65.501,65.838,66.148,66.529,66.967,67.497,67.625,67.764,68.306,68.198,67.274,67.006,66.75,67.03,67.033,66.367,65.184,62.727,60.284,60.181,58.975,58.661,62.26,64.125,63.479,61.544,63.407,65.935,66.926,66.786,66.756,66.276,65.598,66.055,67.282,68.038,68.653,68.479,67.189,66.148,65.602,65.208,63.888,64.326,65.351,65.849,65.48,63.892,61.669,60.675,61.021,60.624,60.548,60.006,58.74,57.383,57.874,57.809,58.22,59.82,61.763,63.229,63.35,62.945,62.551,62.703,62.962,62.179,60.809,60.251,61.892,62.979,62.553,62.435,63.071,63.625,62.931,61.572,62.158,64.491,65.718,65.65,64.801,63.236,62.094,61.838,61.42,61.059,60.607,59.724,60.058,60.37,61.12,61.867,62.47,62.717,62.764,62.438,61.746,61.951,62.318,62.452,62.417,62.026,61.139,60.622,60.91,61.218,60.831,60.704,61.363,62.013,62.354,62.538,62.603,62.651,62.754,62.88,62.824,62.362,61.736,61.859,63.161,64.232,64.462,64.4,64.553,64.902,65.165,64.856,63.794,63.248,63.849,64.323,64.387,64.559,64.848,64.652,64.403,64.725,64.943,65.311,65.706,65.459,64.956,64.914,65.029,65.288,65.69,65.907,66.079,66.124,65.705,65.111,64.509,64.562,65.245,66.002,66.361,66.288,65.786,64.768,63.563,62.645,62.671,63.239,63.471,63.145,63.155,63.733,64.398,64.786,65.048,65.286,65.236,64.731,64.321,64.409,64.51,64.962,65.427,65.449,65.053,64.201,63.793,63.815,63.664,63.516,63.237,63.326,63.845,64.419,64.597,64.278,63.548,63.193,63.045,62.954,62.677,62.134,62.08,62.17,61.98,61.639,61.049,60.997,61.221,61.544,61.866,61.637,61.224,61.28,61.604,62.153,62.6,62.829,62.982,62.625,62.11,62.727,63.54,63.584,63.11,63.021,63.574,64.213,64.545,64.733,64.5,63.695,62.892,62.478,61.857,61.314,61.257,61.503,61.956,62.748,63.353,63.334,62.979,62.552,62.417,62.602,63.017,63.076,62.601,62.224,62.184,62.515,63.207,63.757,63.902,63.8,63.607,63.416,63.067,62.883,63.326,63.743,63.663,63.168,62.844,62.962,63.173,63.338,63.406,63.226,62.894,62.766,62.799,62.74,62.741,62.752,62.484,62.053,61.898,62.009,62.218,62.5,62.676,62.742,62.931,62.977,62.774,62.597,62.325,61.827,61.208,60.562,60.023,59.947,60.25,60.841,61.385,61.616,61.517,61.377,61.418,61.551,61.858,62.189,62.236,61.947,61.473,61.111,60.448,59.525,59.253,59.731,60.385,60.893,61.144,60.944,60.451,60.03,60.162,60.483,60.676,60.871,61.452,62.13,62.788,63.204,63.457,63.769  // by ZJX 20211207
//67.041746,	66.264635,	66.695101,	67.380623,	68.387647,	69.22365,	71.186815,	75.092947,	79.684247,	82.367863,	80.037578,	75.38859,	72.914111,	72.292382,	71.526885,	70.819501,	70.288354,	69.929034,	69.507694,	69.785998,	70.116612,	70.083529,	70.760455,	71.268555,	71.692359,	71.485974,	71.061484,	70.161955,	69.158031,	69.068225,	69.275443,	68.918654,	69.404869,	71.169662,	73.06459,	75.13818,	77.711126,	78.120908,	75.370654,	72.810188,	71.649727,	70.825328,	70.133817,	69.767873,	69.851753,	69.923272,	69.992796,	70.26364,	70.919064,	71.340414,	71.669806,	72.564113,	74.075311,	76.270842,	78.698971,	80.855472,	82.472838,	83.355827,	83.354818,	82.6113,	81.225341,	79.56297,	78.184063,	77.111726,	76.110083,	75.121585,	74.319369,	73.749043,	72.942509,	71.845144,	71.119623,	71.051126,	71.852489,	73.012816,	75.110678,	77.929756,	79.587403,	77.693584,	74.278917,	70.867583,	68.030776,	65.851282,	63.917582,	62.197602,	61.752269,	61.796613,	62.307136,	63.027389,	63.321783,	63.137732,	62.603894,	61.931919,	60.593584,	58.781027,	56.408773,	54.635929,	55.433086,	57.974046,	60.927302,	64.269088,	67.562826,	70.864945,	74.298925,	76.775492,	75.578033,	72.095999,	68.717095,	65.261329,	62.470806,	61.08992,	61.841159,	62.707845,	63.805707,	65.314373,	67.048712,	68.977178,	70.860813,	72.157803,	70.673585,	67.787739,	64.985241,	62.762643,	60.979889,	60.09493,	59.714181,	59.195005,	58.605089,	58.039239,	57.354771,	56.373656,	55.398794,	54.611096,	54.338818,	53.879,	52.650829,	49.741634,	44.604242,	36.695473,	37.765047,	43.356714,	46.928584,	47.981077,	50.27043,	55.017366,	58.945558,	60.290126,	59.781594,	58.025497,	56.067943,	54.246111,	52.466441,	51.811487,	52.955252,	54.776159,	56.03595,	57.214281,	59.368762,	61.587742,	63.985402,	66.015849,	65.901875,	64.146633,	61.84691,	60.772484,	61.165279,	61.588268,	62.810196,	64.962237,	67.074857,	68.935308,	70.459074,	71.54344,	72.220986,	72.529691,	72.777333,	73.17746,	73.95322,	75.266504,	76.467335,	77.598259,	78.522205,	79.080725,	79.747509,	80.348091,	80.471582,	79.986537,	79.049502,	77.806781,	76.650084,	75.519539,	74.188167,	72.37466,	70.466995,	69.107959,	68.617388,	68.782008,	68.683489,	68.217345,	68.764667,	70.343735,	72.042478,	73.315504,	74.117855,	74.536846,	74.587131,	74.532074,	74.543474,	74.123734,	73.48173,	73.2692,	72.854168,	71.900049,	71.387201,	72.55553,	74.112405,	75.391708,	76.126119,	76.188897,	75.339375,	73.769716,	72.74822,	72.253184,	71.619911,	71.223183,	72.945221,	74.701058,	75.912555,	76.664034,	77.289886,	77.44812,	77.462233,	77.500527,	76.885426,	75.332539,	74.055653,	73.596969,	73.802524,	74.40403,	74.858208,	74.962452,	74.754066,	74.317303,	73.764301,	73.07441,	72.635282,	72.790784,	72.849943,	72.36322,	71.529967,	70.321847,	69.273592,	70.347018,	73.508806,	75.951271,	77.72743,	79.024641,	79.788596,	79.896261,	79.374291,	78.520696,	77.516523,	76.359384,	75.080494,	73.814219,	72.870387,	72.514915,	72.366814,	72.048282,	72.175168,	73.040729,	74.242559,	75.796482,	77.227414,	78.14787,	78.80461,	79.468733,	79.569853,	78.388064,	76.49775,	75.716742,	75.671823,	75.115278,	74.646872,	74.715336,	74.758234,	74.353259,	73.363969,	73.701546,	75.214278,	76.612252,	77.749477,	78.896277,	79.81452,	80.271709,	80.218761,	79.834204,	79.136553,	77.962583,	76.2795,	74.62675,	73.253272,	71.505727,	69.369575,	68.60749,	70.544319,	72.955335,	74.897584,	76.335466,	77.283447,	77.944529,	78.486882,	79.058657,	79.725217,	80.123941,	80.20116,	80.176193,	80.297319,	80.454624,	80.080327,	78.767758,	77.081667,	75.167818,	74.600583,	76.805951,	79.07184,	80.845993,	82.352857,	83.244114,	83.371149,	82.950677,	82.438372,	82.391597,	82.547109,	82.235676,	81.058471,	79.305307,	78.341152,	78.754513,	79.279765,	79.596589,	79.919097,	80.305433,	80.686964,	80.76285,	80.384024,	79.677662,	79.136914,	78.307063,	76.874722,	75.553854,	74.64821,	74.006178,	73.709655,	73.369651,	72.571159,	71.834974,	71.414325,	72.309795,	74.414225,	76.176288,	76.973188,	77.064861,	77.694902,	78.3232,	78.218398,	77.142964,	76.049998,	75.723255,	75.667435,	75.296384,  74.107947};
};
const PROGMEM float _CALIB2[] = {
// 79.137553,78.995916,79.976979,81.970114,83.516397,82.028054,81.331625,79.628082,81.066665,82.949156,80.288579,77.70098,82.665919,83.166013,86.026921,87.590511,88.705726,84.669508,87.595683,85.383578,86.953673,86.885741,87.082773,84.350488,83.751228,87.865532,89.317049,88.604705,85.766655,90.060984,90.61256,88.695459,87.879636,87.35588,84.395987,78.243624,87.49584,87.067587,88.135552,88.886787,91.251427,89.509896,88.214821,85.609515,86.046671,82.583544,82.974657,81.082203,81.03829,83.063172,84.769205,82.341512,84.106657,84.465524,83.859517,83.407355,81.638952,80.739528,84.102682,83.909226,80.42225,80.310076,83.139744,83.94747,83.710039,84.932755,86.484959,85.604398,83.645561,83.208534,80.970559,81.65754,83.112187,84.57918,81.846623,82.494029,81.213291,85.100321,85.287617,84.603968,80.87842,77.366324,77.821472,76.729905,75.571458,74.746027,79.818815,80.536257,82.282767,79.992754,79.657782,82.680176,80.505638,78.717873,76.309868,73.257019,70.960715,79.452976,80.107856,73.403901,73.656988,75.488607,82.633614,80.63202,69.937303,80.830037,77.010382,78.063019,80.794816,83.459071,83.882203,84.357142,85.427969,83.087271,84.321557,83.72074,83.108225,82.931664,76.473728,81.77925,80.847539,84.7636,81.237264,87.328894,87.212012,85.550858,88.35024,88.908234,86.658209,85.739643,86.368868,86.752958,86.690848,87.544613,87.408006,89.832341,88.44881,89.490237,89.444427,87.147857,87.067098,85.061598,86.07899,86.303404,85.035365,85.950757,85.785183,85.839875,87.296811,87.693872,86.997733,86.451929,85.965185,85.959742,81.769996,82.418191,85.548777,83.763842,85.839317,85.969831,85.014619,86.260495,84.644005,83.294699,84.751643,83.797881,82.939055,81.638358,82.904195,81.72273,80.554573,82.043273,84.649727,85.60114,84.893826,84.361845,81.132712,83.104478,79.267713,78.969524,82.124584,86.330932,85.650675,86.906185,88.309496,88.088252,89.149684,88.127945,86.005435,86.237972,85.172125,84.454022,86.844737,87.047406,89.356994,89.017817,89.031889,87.72231,87.458851,87.257354,85.505209,87.645184,85.883737,84.420322,83.183399,87.701482,90.386836,90.019652,87.836839,89.496457,89.193746,87.193127,84.462356,86.052169,85.572896,86.644283,85.919472,87.626663,86.264856,87.800618,86.059232,86.134281,85.71077,83.762588,84.989175,81.832276,82.22815,80.652206,82.233939,84.015624,85.790374,85.013685,86.494209,84.930246,84.281321,79.401748,80.986429,80.403791,78.878666,78.535691,81.199328,81.581425,82.857573,80.9686,83.700878,83.963097,81.644713,81.320434,77.005077,69.598302,65.571645,80.901405,82.005669,82.363835,80.641191,80.987353,82.756618,81.403956,81.796936,80.492179,80.337588,82.532641,83.397632,86.191357,84.998601,87.83448,89.540795,89.059532,87.907747,88.322939,88.724526,86.879713,83.804993,85.29806,86.395375,85.730834,87.508216,86.063819,87.942294,87.625313,88.535981,87.380983,84.155704,85.785727,81.849387,82.960181,83.163512,84.232443,85.737558,85.216063,86.300474,86.329593,84.091732,83.966681,83.427549,83.179872,81.07306,79.527087,80.613334,81.545988,83.221771,83.795727,83.113922,83.079061,80.534989,80.459731,78.35549,77.344813,75.806802,75.620166,79.456171,74.391588,75.438711,73.457613,78.477616,80.737734,79.086616,76.030563,78.088271,73.239505,78.969392,74.201111,75.304714,76.677951,76.841149,78.777129,74.467024,73.520563,77.417775,79.460351,76.233487,73.788285,63.208947,62.132079,66.31267,72.976319,71.021628,75.905852,76.770472,70.534193,72.111593,72.917709,73.260684,53.868074,71.505758,73.283173,76.886709,76.837759,74.356498,73.127938,78.859299,77.955423,74.307504,77.603068,76.430695,73.298372,71.314165,76.621044,71.119606,74.578516,75.216409,74.33341,70.908313,71.796693,73.193188,72.709742,72.323107,71.860115,66.711625,72.349668

// This calibration data is measured with Mic Position3, and median filtered with window of 10. 
// The sound pressure level produced would be only approximate to the specified. left speaker
67.041746,	66.264635,	66.695101,	67.380623,	68.387647,	69.22365,	71.186815,	75.092947,	79.684247,	82.367863,	80.037578,	75.38859,	72.914111,	72.292382,	71.526885,	70.819501,	70.288354,	69.929034,	69.507694,	69.785998,	70.116612,	70.083529,	70.760455,	71.268555,	71.692359,	71.485974,	71.061484,	70.161955,	69.158031,	69.068225,	69.275443,	68.918654,	69.404869,	71.169662,	73.06459,	75.13818,	77.711126,	78.120908,	75.370654,	72.810188,	71.649727,	70.825328,	70.133817,	69.767873,	69.851753,	69.923272,	69.992796,	70.26364,	70.919064,	71.340414,	71.669806,	72.564113,	74.075311,	76.270842,	78.698971,	80.855472,	82.472838,	83.355827,	83.354818,	82.6113,	81.225341,	79.56297,	78.184063,	77.111726,	76.110083,	75.121585,	74.319369,	73.749043,	72.942509,	71.845144,	71.119623,	71.051126,	71.852489,	73.012816,	75.110678,	77.929756,	79.587403,	77.693584,	74.278917,	70.867583,	68.030776,	65.851282,	63.917582,	62.197602,	61.752269,	61.796613,	62.307136,	63.027389,	63.321783,	63.137732,	62.603894,	61.931919,	60.593584,	58.781027,	56.408773,	54.635929,	55.433086,	57.974046,	60.927302,	64.269088,	67.562826,	70.864945,	74.298925,	76.775492,	75.578033,	72.095999,	68.717095,	65.261329,	62.470806,	61.08992,	61.841159,	62.707845,	63.805707,	65.314373,	67.048712,	68.977178,	70.860813,	72.157803,	70.673585,	67.787739,	64.985241,	62.762643,	60.979889,	60.09493,	59.714181,	59.195005,	58.605089,	58.039239,	57.354771,	56.373656,	55.398794,	54.611096,	54.338818,	53.879,	52.650829,	49.741634,	44.604242,	36.695473,	37.765047,	43.356714,	46.928584,	47.981077,	50.27043,	55.017366,	58.945558,	60.290126,	59.781594,	58.025497,	56.067943,	54.246111,	52.466441,	51.811487,	52.955252,	54.776159,	56.03595,	57.214281,	59.368762,	61.587742,	63.985402,	66.015849,	65.901875,	64.146633,	61.84691,	60.772484,	61.165279,	61.588268,	62.810196,	64.962237,	67.074857,	68.935308,	70.459074,	71.54344,	72.220986,	72.529691,	72.777333,	73.17746,	73.95322,	75.266504,	76.467335,	77.598259,	78.522205,	79.080725,	79.747509,	80.348091,	80.471582,	79.986537,	79.049502,	77.806781,	76.650084,	75.519539,	74.188167,	72.37466,	70.466995,	69.107959,	68.617388,	68.782008,	68.683489,	68.217345,	68.764667,	70.343735,	72.042478,	73.315504,	74.117855,	74.536846,	74.587131,	74.532074,	74.543474,	74.123734,	73.48173,	73.2692,	72.854168,	71.900049,	71.387201,	72.55553,	74.112405,	75.391708,	76.126119,	76.188897,	75.339375,	73.769716,	72.74822,	72.253184,	71.619911,	71.223183,	72.945221,	74.701058,	75.912555,	76.664034,	77.289886,	77.44812,	77.462233,	77.500527,	76.885426,	75.332539,	74.055653,	73.596969,	73.802524,	74.40403,	74.858208,	74.962452,	74.754066,	74.317303,	73.764301,	73.07441,	72.635282,	72.790784,	72.849943,	72.36322,	71.529967,	70.321847,	69.273592,	70.347018,	73.508806,	75.951271,	77.72743,	79.024641,	79.788596,	79.896261,	79.374291,	78.520696,	77.516523,	76.359384,	75.080494,	73.814219,	72.870387,	72.514915,	72.366814,	72.048282,	72.175168,	73.040729,	74.242559,	75.796482,	77.227414,	78.14787,	78.80461,	79.468733,	79.569853,	78.388064,	76.49775,	75.716742,	75.671823,	75.115278,	74.646872,	74.715336,	74.758234,	74.353259,	73.363969,	73.701546,	75.214278,	76.612252,	77.749477,	78.896277,	79.81452,	80.271709,	80.218761,	79.834204,	79.136553,	77.962583,	76.2795,	74.62675,	73.253272,	71.505727,	69.369575,	68.60749,	70.544319,	72.955335,	74.897584,	76.335466,	77.283447,	77.944529,	78.486882,	79.058657,	79.725217,	80.123941,	80.20116,	80.176193,	80.297319,	80.454624,	80.080327,	78.767758,	77.081667,	75.167818,	74.600583,	76.805951,	79.07184,	80.845993,	82.352857,	83.244114,	83.371149,	82.950677,	82.438372,	82.391597,	82.547109,	82.235676,	81.058471,	79.305307,	78.341152,	78.754513,	79.279765,	79.596589,	79.919097,	80.305433,	80.686964,	80.76285,	80.384024,	79.677662,	79.136914,	78.307063,	76.874722,	75.553854,	74.64821,	74.006178,	73.709655,	73.369651,	72.571159,	71.834974,	71.414325,	72.309795,	74.414225,	76.176288,	76.973188,	77.064861,	77.694902,	78.3232,	78.218398,	77.142964,	76.049998,	75.723255,	75.667435,	75.296384,	74.107947,	67.392005,	69.266815,	72.074172,	75.444161,	82.571713,	83.452381,	77.770303,	74.441923,	71.955032,	69.571822,	68.670537,	68.544198,	68.447668,	68.70853,	68.772909,	69.647749,	70.101877,	70.225576,	70.321503,	70.540308,	71.554572,	72.470955,	72.78363,	73.579258,	74.45786,	74.25511,	73.707093,	73.926314,	75.354867,	77.78263,	80.624694,	83.036796,	83.365135,	81.742403,	79.286106,	76.60452,	74.266327,	72.646869,	71.3446,	70.781634,	71.037004,	71.695714,	73.043936,	74.86269,	77.086516,	79.375183,	80.726572,	80.333376,	79.063762,	77.854031,	76.966437,	76.156417,	74.979044,	73.996489,	73.293311,	73.196899,	73.730538,	74.299707,	74.764431,	75.050155,	75.227384,	75.678674,	76.578302,	77.977422,	79.506032,	81.40309,	84.194986,	86.815324,	85.735971,	82.501375,	79.374426,	76.592774,	74.189239,	72.033356,	70.396953,	68.675296,	66.916206,	65.731631,	65.66108,	65.89903,	66.382183,	67.229116,	68.224234,	68.941118,	69.522393,	70.62113,	73.479247,	77.017811,	80.31111,	79.653008,	76.116614,	72.679761,	69.909224,	67.883226,	66.727963,	65.907771,	65.567578,	65.718305,	66.424691,	67.819812,	69.839175,	72.439543,	74.647549,	73.328733,	69.492005,	65.999421,	62.992489,	60.281089,	57.96337,	56.471097,	56.178706,	55.50954,	55.885656,	56.893124,	57.515911,	56.784858,	56.070266,	55.590668,	54.896909,	54.644697,	56.198493,	57.720627,	58.991525,	60.274607,	61.860222,	63.971121,	66.131893,	66.131018,	63.591675,	60.515685,	57.991279,	56.380404,	55.177173,	53.750735,	52.414228,	50.452489,	49.049804,	49.818597,	52.644379,	55.909696,	59.93886,	63.712372,	64.389022,	62.817175,	61.230698,	59.88607,	58.253438,	56.839168,	55.65837,	54.831849,	54.638706,	54.644413,	54.746535,	54.858434,	56.196461,	58.131069,	59.929136,	62.013763,	64.36589,	67.072257,	70.166139,	72.857311,	74.579465,	75.14522,	75.014069,	74.381922,	73.498799,	72.991313,	72.790179,	72.980308,	73.660064,	74.382687,	75.042532,	75.725039,	76.760533,	78.088831,	79.341167,	80.167406,	80.48869,	80.526413,	80.337506,	79.976841,	79.475772,	79.074456,	78.960818,	78.8283,	78.834464,	79.108514,	79.47151,	80.000381,	80.923323,	82.003848,	82.945808,	83.805029,	84.561394,	84.891484,	84.788049,	84.379064,	83.667472,	82.889585,	82.130067,	81.260255,	80.562072,	79.898794,	79.040019,	78.140592,	77.468227,	77.035915,	76.462511,	76.221731,	76.664857,	77.418544,	77.943927,	78.161899,	78.256517,	78.540977,	78.942272,	79.045281,	78.98292,	79.260745,	79.937673,	80.90963,	82.089601,	83.114887,	83.7904,	83.860613,	83.463526,	82.783424,	81.517936,	79.887779,	78.374799,	77.090519,	76.335392,	76.496983,	77.199628,	77.946464,	78.779095,	79.540002,	80.197037,	80.903664,	81.464209,	81.826157,	82.054853,	82.324675,	82.538046,	82.415593,	82.016983,	81.086173,	79.620902,	78.346618,	77.933803,	78.090214,	78.076762,	77.99975,	78.20496,	78.541062,	78.815462,	79.120375,	79.489064,	79.733436,	79.90885,	79.602723,	79.024284,	78.30015,	77.715756,	77.284115,	76.765748,	76.278215,	75.728464,	75.045228,	74.298131,	73.628127,	73.197141,	73.013468,	73.007949,	73.253283,	73.888189,	75.095438,	76.405284,	77.2948,	77.584928,	78.150935,	79.645362,	81.549488,	83.326565,	84.802015,	85.463562,	85.139792,	84.272719,	83.426856,	82.739436,	82.098007,	81.359344,	80.697514,	80.22657,	79.717572,	78.952025,	77.976496,	77.758067,	77.770026,	77.23662,	76.20136,	74.904624,	74.329711,	74.592187,	74.787581,	74.753625,	74.523232,	74.441155,	74.608413,	74.778201,	74.875279,	74.915923,	75.127335,	75.665645,	76.339967,	76.812135,	77.156073,	77.757788,	78.485383,	78.885653,	78.973732,	78.879112,	78.620105,	78.301227,	78.418394,	78.746271,	78.959692,	79.273258,	79.546468,	79.672667,	79.789414,	79.922538,	80.273884,	80.563659,	80.618401,	80.997828,	81.368892,	81.102199,	80.267964,	79.291327,	78.468533,	77.698282,	76.642369,	75.01044,	73.649826,	73.674045,	74.364811,	75.229285,	76.298295,	77.558521,	78.81862,	79.764585,	80.281017,	80.498704,	80.709407,	80.82392,	80.675452,	80.629855,	81.08735,	81.301295,	81.341933,	81.30245,	81.03092,	80.353902,	79.057436,	78.57397,	79.193519,	79.715343,	79.769281,	79.426398};

const float f0 = 3000;
const float df = 100;
const float calib_vol = 190;

float* addr_CALIB = _CALIB;
float* addr_CALIB2 = _CALIB2;



struct CALIB_STCT calib_default_stct1 = {
	_CALIB, //calibration results array.
	3000, //f0
	100, //df
	190   //calib_vol
};

struct CALIB_STCT calib_default_stct2 = {
	_CALIB2, //calibration results array.
	3000, //f0
	100, //df
	190  //calib_vol
};



int SPLCClass::get_D_SPL(float fq, byte DB, struct CALIB_STCT param = calib_default_stct1){
	int index = (int)((fq - param.f0) / param.df);
	float real_SPL = pgm_read_float_far(& param.CALIB_Array[index]);
	float att = real_SPL-DB;
	return (int)(param.calib_vol - (2 * att));
}

int SPLCClass::get_D_SPL2(float fq, byte DB, struct CALIB_STCT param = calib_default_stct2){
	int index = (int)((fq - param.f0) / param.df);
	float real_SPL = pgm_read_float_far(& param.CALIB_Array[index]);
	float att = real_SPL-DB;
	return (int)(param.calib_vol - (2 * att));
}

void SPLCClass::init(){
	NOP();
}

SPLCClass SPLC;


